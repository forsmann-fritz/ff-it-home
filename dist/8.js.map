{"version":3,"sources":["webpack:///./node_modules/@ionic/core/dist/esm-es5/overlays-c5d9d644.js","webpack:///./node_modules/@ionic/core/dist/esm-es5/index-9b2fc761.js","webpack:///./node_modules/@ionic/core/dist/esm-es5/cubic-bezier-685f606a.js","webpack:///./node_modules/@ionic/core/dist/esm-es5/framework-delegate-d1eb6504.js","webpack:///./node_modules/@ionic/core/dist/esm-es5/ion-modal.entry.js","webpack:///./node_modules/@ionic/core/dist/esm-es5/helpers-5c745fbd.js","webpack:///./node_modules/@ionic/core/dist/esm-es5/theme-5641d27f.js","webpack:///./node_modules/@ionic/core/dist/esm-es5/gesture-controller-89173521.js","webpack:///./node_modules/@ionic/core/dist/esm-es5/hardware-back-button-7b6ede21.js","webpack:///./node_modules/@ionic/core/dist/esm-es5/index-eea61379.js"],"names":["lastId","activeAnimations","WeakMap","createController","tagName","create","options","createOverlay","dismiss","data","role","id","dismissOverlay","document","getTop","this","_a","getOverlay","alertController","actionSheetController","pickerController","popoverController","prepareOverlay","el","connectListeners","overlayIndex","hasAttribute","opts","customElements","whenDefined","then","element","createElement","classList","add","Object","assign","getAppRoot","appendChild","componentOnReady","Promise","resolve","focusableQueryString","innerFocusableQueryString","trapKeyboardFocus","ev","doc","overlay","firstInput","shadowRoot","lastOverlay","target","lastFocus","undefined","overlayRoot","contains","overlayWrapper","querySelector","focus","activeElement","ref","inputs","Array","from","querySelectorAll","lastInput","length","focusLastDescendant","addEventListener","backdropDismiss","detail","register","BACKDROP","key","overlayTag","reject","overlays","selector","filter","c","getOverlays","find","o","present","name","iosEnterAnimation","mdEnterAnimation","mode","animationBuilder","label","presented","willPresent","emit","enterAnimation","get","overlayAnimation","sent","didPresent","focusPreviousElementOnDismiss","keyboardClose","overlayEl","previousElement","onDidDismiss","iosLeaveAnimation","mdLeaveAnimation","err_1","trys","push","style","setProperty","willDismiss","leaveAnimation","didDismiss","delete","console","error","remove","body","baseEl","aniRoot","animation","activeAni","animated","getBoolean","duration","beforeAddWrite","ownerDocument","matches","blur","set","play","eventMethod","eventName","promise","r","onceEvent","event","callback","handler","removeEventListener","isCancel","defaultGate","h","safeCall","arg","jmp","e","LIFECYCLE_WILL_LEAVE","LIFECYCLE_DID_LEAVE","LIFECYCLE_WILL_UNLOAD","transition","beforeTransition","runTransition","result","destroy","afterTransition","enteringEl","leavingEl","setZIndex","direction","showGoBack","setPageHidden","getAnimationBuilder","isBrowser","noAnimation","_b","iosTransitionAnimation","mdTransitionAnimation","trans","didComplete","waitForReady","fireWillEvents","playTransition","progressCallback","fireDidEvents","hasCompleted","defaultDeep","deep","promises","deepWait","deepReady","shallowReady","all","notifyViewReady","viewIsReady","onFinish","currentStep","progressStart","lifecycle","CustomEvent","bubbles","cancelable","dispatchEvent","children","map","hidden","setAttribute","removeAttribute","zIndex","getIonPageElement","ionPage","getTimeGivenProgression","p0","p1","p2","p3","progression","solveCubicBezier","tValue","solveCubicParametricEquation","t","Math","pow","refPoint","solveCubicEquation","root","a","b","d","discriminant","sqrt","solveQuadraticEquation","p","q","phi","acos","s","cos","PI","attachComponent","delegate","container","component","cssClasses","componentProps","attachViewToDom","HTMLElement","Error","forEach","detachComponent","parentElement","removeViewFromDom","SwipeToCloseDefaults","computeDuration","remaining","velocity","abs","presentingEl","backdropAnimation","addElement","fromTo","beforeStyles","afterClearStyles","wrapperAnimation","baseAnimation","easing","addAnimation","isMobile","window","innerWidth","hasCardModal","presentingElement","presentingAnimation","bodyEl_1","transformOffset","CSS","supports","finalTransform","afterStyles","keyframes","offset","transform","borderRadius","shadowAnimation","opacity","beforeClearStyles","bodyEl_2","m","wrapperEl","Modal","class_1","hostRef","_this","gestureAnimationDismissing","showBackdrop","swipeToClose","onBackdropTap","onDismiss","stopPropagation","preventDefault","onLifecycle","modalEvent","usersElement","LIFECYCLE_MAP","type","prototype","swipeToCloseChanged","enable","gesture","initSwipeToClose","connectedCallback","modal","height","isOpen","ani","offsetHeight","gestureName","gesturePriority","threshold","canStart","closest","onStart","onMove","step","deltaY","progressStep","onEnd","velocityY","shouldComplete","newStepValue","progressEnd","enteringAnimation","dismissed","onWillDismiss","render","tabindex","class","cssClass","onIonBackdropTap","onIonDismiss","onIonModalDidPresent","onIonModalWillPresent","onIonModalWillDismiss","onIonModalDidDismiss","visible","tappable","defineProperty","enumerable","configurable","ios","md","getElementRoot","fallback","raf","__zone_symbol__requestAnimationFrame","requestAnimationFrame","setTimeout","hasShadowDom","attachShadow","findItemLabel","componentEl","itemEl","renderHiddenInput","always","value","disabled","input","clamp","min","n","max","assert","actual","reason","message","now","timeStamp","Date","pointerCoord","changedTouches","touch","x","clientX","y","clientY","pageX","pageY","isEndSide","side","isRTL","dir","debounceEvent","wait","original","_original","debounce","bind","func","timer","args","_i","arguments","clearTimeout","apply","hostContext","createColorClasses","color","cssClassMap","getClassMap","classes","isArray","split","trim","getClassList","SCHEME","openURL","url","router","test","GestureController","gestureId","requestedStart","Map","disabledGestures","disabledScroll","Set","createGesture","config","GestureDelegate","newID","priority","disableScroll","createBlocker","BlockerDelegate","disable","start","capture","maxPriority","capturedId","clear","release","disableGesture","enableGesture","size","BACKDROP_NO_SCROLL","enableScroll","isDisabled","isCaptured","isScrollDisabled","ctrl","captured","block","unblock","GESTURE_CONTROLLER","startHardwareBackButton","busy","index","handlers","processHandlers","selectedHandler_1","Number","MIN_SAFE_INTEGER","handlerRegister","e_1","OVERLAY_BACK_BUTTON_PRIORITY","MENU_BACK_BUTTON_PRIORITY","_sPassive","listenerOpts","supportsPassive","passive","node","getDocument","Document","hasCapturedPan","hasStartedPan","hasFiredStart","isMoveQueued","finalConfig","maxAngle","onWillStart","notCaptured","blurOnStart","startX","startY","startTime","currentX","currentY","velocityX","deltaX","currentTime","pan","thresh","radians","isDirX","maxCosine","dirty","isPan","detect","distance","hypotenuse","cosine","isGesture","getDirection","createPanRecognizer","fireOnMove","tryToCapturePan","fireOnStart","blurActiveElement","reset","pointerUp","tmpHasCaptured","tmpHasFiredStart","calcGestureData","pointerEvents","pointerDown","pointerMove","rmTouchStart","rmTouchMove","rmTouchEnd","rmTouchCancel","rmMouseStart","rmMouseMove","rmMouseUp","lastTouchEvent","handleTouchStart","handleTouchEnd","handleMouseDown","handleMouseUp","stopTouch","stopMouse","stop","isEnabled","createPointerEvents","updateDetail","abortGesture","prevX","prevY","prevT","timeDelta"],"mappings":"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","file":"8.js","sourcesContent":["import { __awaiter, __generator, __spreadArrays } from \"tslib\";\nimport { b as getIonMode, c as config } from './ionic-global-23e7365a.js';\nimport { g as getElementRoot } from './helpers-5c745fbd.js';\nimport { OVERLAY_BACK_BUTTON_PRIORITY } from './hardware-back-button-7b6ede21.js';\nvar lastId = 0;\nvar activeAnimations = new WeakMap();\nvar createController = function (tagName) {\n    return {\n        create: function (options) {\n            return createOverlay(tagName, options);\n        },\n        dismiss: function (data, role, id) {\n            return dismissOverlay(document, data, role, tagName, id);\n        },\n        getTop: function () {\n            return __awaiter(this, void 0, void 0, function () {\n                return __generator(this, function (_a) {\n                    return [2 /*return*/, getOverlay(document, tagName)];\n                });\n            });\n        }\n    };\n};\nvar alertController = /*@__PURE__*/ createController('ion-alert');\nvar actionSheetController = /*@__PURE__*/ createController('ion-action-sheet');\nvar loadingController = /*@__PURE__*/ createController('ion-loading');\nvar modalController = /*@__PURE__*/ createController('ion-modal');\nvar pickerController = /*@__PURE__*/ createController('ion-picker');\nvar popoverController = /*@__PURE__*/ createController('ion-popover');\nvar toastController = /*@__PURE__*/ createController('ion-toast');\nvar prepareOverlay = function (el) {\n    /* tslint:disable-next-line */\n    if (typeof document !== 'undefined') {\n        connectListeners(document);\n    }\n    var overlayIndex = lastId++;\n    el.overlayIndex = overlayIndex;\n    if (!el.hasAttribute('id')) {\n        el.id = \"ion-overlay-\" + overlayIndex;\n    }\n};\nvar createOverlay = function (tagName, opts) {\n    /* tslint:disable-next-line */\n    if (typeof customElements !== 'undefined') {\n        return customElements.whenDefined(tagName).then(function () {\n            var element = document.createElement(tagName);\n            element.classList.add('overlay-hidden');\n            // convert the passed in overlay options into props\n            // that get passed down into the new overlay\n            Object.assign(element, opts);\n            // append the overlay element to the document body\n            getAppRoot(document).appendChild(element);\n            return element.componentOnReady();\n        });\n    }\n    return Promise.resolve();\n};\nvar focusableQueryString = '[tabindex]:not([tabindex^=\"-\"]), input:not([type=hidden]):not([tabindex^=\"-\"]), textarea:not([tabindex^=\"-\"]), button:not([tabindex^=\"-\"]), select:not([tabindex^=\"-\"]), .ion-focusable:not([tabindex^=\"-\"])';\nvar innerFocusableQueryString = 'input:not([type=hidden]), textarea, button, select';\nvar focusFirstDescendant = function (ref, overlay) {\n    var firstInput = ref.querySelector(focusableQueryString);\n    var shadowRoot = firstInput && firstInput.shadowRoot;\n    if (shadowRoot) {\n        // If there are no inner focusable elements, just focus the host element.\n        firstInput = shadowRoot.querySelector(innerFocusableQueryString) || firstInput;\n    }\n    if (firstInput) {\n        firstInput.focus();\n    }\n    else {\n        // Focus overlay instead of letting focus escape\n        overlay.focus();\n    }\n};\nvar focusLastDescendant = function (ref, overlay) {\n    var inputs = Array.from(ref.querySelectorAll(focusableQueryString));\n    var lastInput = inputs.length > 0 ? inputs[inputs.length - 1] : null;\n    var shadowRoot = lastInput && lastInput.shadowRoot;\n    if (shadowRoot) {\n        // If there are no inner focusable elements, just focus the host element.\n        lastInput = shadowRoot.querySelector(innerFocusableQueryString) || lastInput;\n    }\n    if (lastInput) {\n        lastInput.focus();\n    }\n    else {\n        // Focus overlay instead of letting focus escape\n        overlay.focus();\n    }\n};\n/**\n * Traps keyboard focus inside of overlay components.\n * Based on https://w3c.github.io/aria-practices/examples/dialog-modal/alertdialog.html\n * This includes the following components: Action Sheet, Alert, Loading, Modal,\n * Picker, and Popover.\n * Should NOT include: Toast\n */\nvar trapKeyboardFocus = function (ev, doc) {\n    var lastOverlay = getOverlay(doc);\n    var target = ev.target;\n    // If no active overlay, ignore this event\n    if (!lastOverlay || !target) {\n        return;\n    }\n    /**\n     * If we are focusing the overlay, clear\n     * the last focused element so that hitting\n     * tab activates the first focusable element\n     * in the overlay wrapper.\n     */\n    if (lastOverlay === target) {\n        lastOverlay.lastFocus = undefined;\n        /**\n         * Otherwise, we must be focusing an element\n         * inside of the overlay. The two possible options\n         * here are an input/button/etc or the ion-focus-trap\n         * element. The focus trap element is used to prevent\n         * the keyboard focus from leaving the overlay when\n         * using Tab or screen assistants.\n         */\n    }\n    else {\n        /**\n         * We do not want to focus the traps, so get the overlay\n         * wrapper element as the traps live outside of the wrapper.\n         */\n        var overlayRoot = getElementRoot(lastOverlay);\n        if (!overlayRoot.contains(target)) {\n            return;\n        }\n        var overlayWrapper = overlayRoot.querySelector('.ion-overlay-wrapper');\n        if (!overlayWrapper) {\n            return;\n        }\n        /**\n         * If the target is inside the wrapper, let the browser\n         * focus as normal and keep a log of the last focused element.\n         */\n        if (overlayWrapper.contains(target)) {\n            lastOverlay.lastFocus = target;\n        }\n        else {\n            /**\n             * Otherwise, we must have focused one of the focus traps.\n             * We need to wrap the focus to either the first element\n             * or the last element.\n             */\n            /**\n             * Once we call `focusFirstDescendant` and focus the first\n             * descendant, another focus event will fire which will\n             * cause `lastOverlay.lastFocus` to be updated before\n             * we can run the code after that. We will cache the value\n             * here to avoid that.\n             */\n            var lastFocus = lastOverlay.lastFocus;\n            // Focus the first element in the overlay wrapper\n            focusFirstDescendant(overlayWrapper, lastOverlay);\n            /**\n             * If the cached last focused element is the\n             * same as the active element, then we need\n             * to wrap focus to the last descendant. This happens\n             * when the first descendant is focused, and the user\n             * presses Shift + Tab. The previous line will focus\n             * the same descendant again (the first one), causing\n             * last focus to equal the active element.\n             */\n            if (lastFocus === doc.activeElement) {\n                focusLastDescendant(overlayWrapper, lastOverlay);\n            }\n            lastOverlay.lastFocus = doc.activeElement;\n        }\n    }\n};\nvar connectListeners = function (doc) {\n    if (lastId === 0) {\n        lastId = 1;\n        doc.addEventListener('focus', function (ev) { return trapKeyboardFocus(ev, doc); }, true);\n        // handle back-button click\n        doc.addEventListener('ionBackButton', function (ev) {\n            var lastOverlay = getOverlay(doc);\n            if (lastOverlay && lastOverlay.backdropDismiss) {\n                ev.detail.register(OVERLAY_BACK_BUTTON_PRIORITY, function () {\n                    return lastOverlay.dismiss(undefined, BACKDROP);\n                });\n            }\n        });\n        // handle ESC to close overlay\n        doc.addEventListener('keyup', function (ev) {\n            if (ev.key === 'Escape') {\n                var lastOverlay = getOverlay(doc);\n                if (lastOverlay && lastOverlay.backdropDismiss) {\n                    lastOverlay.dismiss(undefined, BACKDROP);\n                }\n            }\n        });\n    }\n};\nvar dismissOverlay = function (doc, data, role, overlayTag, id) {\n    var overlay = getOverlay(doc, overlayTag, id);\n    if (!overlay) {\n        return Promise.reject('overlay does not exist');\n    }\n    return overlay.dismiss(data, role);\n};\nvar getOverlays = function (doc, selector) {\n    if (selector === undefined) {\n        selector = 'ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast';\n    }\n    return Array.from(doc.querySelectorAll(selector))\n        .filter(function (c) { return c.overlayIndex > 0; });\n};\nvar getOverlay = function (doc, overlayTag, id) {\n    var overlays = getOverlays(doc, overlayTag);\n    return (id === undefined)\n        ? overlays[overlays.length - 1]\n        : overlays.find(function (o) { return o.id === id; });\n};\nvar present = function (overlay, name, iosEnterAnimation, mdEnterAnimation, opts) { return __awaiter(void 0, void 0, void 0, function () {\n    var mode, animationBuilder, completed;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (overlay.presented) {\n                    return [2 /*return*/];\n                }\n                overlay.presented = true;\n                overlay.willPresent.emit();\n                mode = getIonMode(overlay);\n                animationBuilder = (overlay.enterAnimation)\n                    ? overlay.enterAnimation\n                    : config.get(name, mode === 'ios' ? iosEnterAnimation : mdEnterAnimation);\n                return [4 /*yield*/, overlayAnimation(overlay, animationBuilder, overlay.el, opts)];\n            case 1:\n                completed = _a.sent();\n                if (completed) {\n                    overlay.didPresent.emit();\n                }\n                /**\n                 * When an overlay that steals focus\n                 * is dismissed, focus should be returned\n                 * to the element that was focused\n                 * prior to the overlay opening. Toast\n                 * does not steal focus and is excluded\n                 * from returning focus as a result.\n                 */\n                if (overlay.el.tagName !== 'ION-TOAST') {\n                    focusPreviousElementOnDismiss(overlay.el);\n                }\n                if (overlay.keyboardClose) {\n                    overlay.el.focus();\n                }\n                return [2 /*return*/];\n        }\n    });\n}); };\n/**\n * When an overlay component is dismissed,\n * focus should be returned to the element\n * that presented the overlay. Otherwise\n * focus will be set on the body which\n * means that people using screen readers\n * or tabbing will need to re-navigate\n * to where they were before they\n * opened the overlay.\n */\nvar focusPreviousElementOnDismiss = function (overlayEl) { return __awaiter(void 0, void 0, void 0, function () {\n    var previousElement, shadowRoot;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                previousElement = document.activeElement;\n                if (!previousElement) {\n                    return [2 /*return*/];\n                }\n                shadowRoot = previousElement && previousElement.shadowRoot;\n                if (shadowRoot) {\n                    // If there are no inner focusable elements, just focus the host element.\n                    previousElement = shadowRoot.querySelector(innerFocusableQueryString) || previousElement;\n                }\n                return [4 /*yield*/, overlayEl.onDidDismiss()];\n            case 1:\n                _a.sent();\n                previousElement.focus();\n                return [2 /*return*/];\n        }\n    });\n}); };\nvar dismiss = function (overlay, data, role, name, iosLeaveAnimation, mdLeaveAnimation, opts) { return __awaiter(void 0, void 0, void 0, function () {\n    var mode, animationBuilder, err_1;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (!overlay.presented) {\n                    return [2 /*return*/, false];\n                }\n                overlay.presented = false;\n                _a.label = 1;\n            case 1:\n                _a.trys.push([1, 4, , 5]);\n                // Overlay contents should not be clickable during dismiss\n                overlay.el.style.setProperty('pointer-events', 'none');\n                overlay.willDismiss.emit({ data: data, role: role });\n                mode = getIonMode(overlay);\n                animationBuilder = (overlay.leaveAnimation)\n                    ? overlay.leaveAnimation\n                    : config.get(name, mode === 'ios' ? iosLeaveAnimation : mdLeaveAnimation);\n                if (!(role !== 'gesture')) return [3 /*break*/, 3];\n                return [4 /*yield*/, overlayAnimation(overlay, animationBuilder, overlay.el, opts)];\n            case 2:\n                _a.sent();\n                _a.label = 3;\n            case 3:\n                overlay.didDismiss.emit({ data: data, role: role });\n                activeAnimations.delete(overlay);\n                return [3 /*break*/, 5];\n            case 4:\n                err_1 = _a.sent();\n                console.error(err_1);\n                return [3 /*break*/, 5];\n            case 5:\n                overlay.el.remove();\n                return [2 /*return*/, true];\n        }\n    });\n}); };\nvar getAppRoot = function (doc) {\n    return doc.querySelector('ion-app') || doc.body;\n};\nvar overlayAnimation = function (overlay, animationBuilder, baseEl, opts) { return __awaiter(void 0, void 0, void 0, function () {\n    var aniRoot, animation, activeAni;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                // Make overlay visible in case it's hidden\n                baseEl.classList.remove('overlay-hidden');\n                aniRoot = baseEl.shadowRoot || overlay.el;\n                animation = animationBuilder(aniRoot, opts);\n                if (!overlay.animated || !config.getBoolean('animated', true)) {\n                    animation.duration(0);\n                }\n                if (overlay.keyboardClose) {\n                    animation.beforeAddWrite(function () {\n                        var activeElement = baseEl.ownerDocument.activeElement;\n                        if (activeElement && activeElement.matches('input, ion-input, ion-textarea')) {\n                            activeElement.blur();\n                        }\n                    });\n                }\n                activeAni = activeAnimations.get(overlay) || [];\n                activeAnimations.set(overlay, __spreadArrays(activeAni, [animation]));\n                return [4 /*yield*/, animation.play()];\n            case 1:\n                _a.sent();\n                return [2 /*return*/, true];\n        }\n    });\n}); };\nvar eventMethod = function (element, eventName) {\n    var resolve;\n    var promise = new Promise(function (r) { return resolve = r; });\n    onceEvent(element, eventName, function (event) {\n        resolve(event.detail);\n    });\n    return promise;\n};\nvar onceEvent = function (element, eventName, callback) {\n    var handler = function (ev) {\n        element.removeEventListener(eventName, handler);\n        callback(ev);\n    };\n    element.addEventListener(eventName, handler);\n};\nvar isCancel = function (role) {\n    return role === 'cancel' || role === BACKDROP;\n};\nvar defaultGate = function (h) { return h(); };\nvar safeCall = function (handler, arg) {\n    if (typeof handler === 'function') {\n        var jmp = config.get('_zoneGate', defaultGate);\n        return jmp(function () {\n            try {\n                return handler(arg);\n            }\n            catch (e) {\n                console.error(e);\n            }\n        });\n    }\n    return undefined;\n};\nvar BACKDROP = 'backdrop';\nexport { BACKDROP as B, alertController as a, actionSheetController as b, popoverController as c, present as d, prepareOverlay as e, dismiss as f, eventMethod as g, activeAnimations as h, isCancel as i, loadingController as l, modalController as m, pickerController as p, safeCall as s, toastController as t };\n","import { __awaiter, __generator } from \"tslib\";\nimport { c as writeTask, B as Build } from './index-92848855.js';\nvar LIFECYCLE_WILL_ENTER = 'ionViewWillEnter';\nvar LIFECYCLE_DID_ENTER = 'ionViewDidEnter';\nvar LIFECYCLE_WILL_LEAVE = 'ionViewWillLeave';\nvar LIFECYCLE_DID_LEAVE = 'ionViewDidLeave';\nvar LIFECYCLE_WILL_UNLOAD = 'ionViewWillUnload';\nvar iosTransitionAnimation = function () { return import('./ios.transition-587709a3.js'); };\nvar mdTransitionAnimation = function () { return import('./md.transition-4ff6b28e.js'); };\nvar transition = function (opts) {\n    return new Promise(function (resolve, reject) {\n        writeTask(function () {\n            beforeTransition(opts);\n            runTransition(opts).then(function (result) {\n                if (result.animation) {\n                    result.animation.destroy();\n                }\n                afterTransition(opts);\n                resolve(result);\n            }, function (error) {\n                afterTransition(opts);\n                reject(error);\n            });\n        });\n    });\n};\nvar beforeTransition = function (opts) {\n    var enteringEl = opts.enteringEl;\n    var leavingEl = opts.leavingEl;\n    setZIndex(enteringEl, leavingEl, opts.direction);\n    if (opts.showGoBack) {\n        enteringEl.classList.add('can-go-back');\n    }\n    else {\n        enteringEl.classList.remove('can-go-back');\n    }\n    setPageHidden(enteringEl, false);\n    if (leavingEl) {\n        setPageHidden(leavingEl, false);\n    }\n};\nvar runTransition = function (opts) { return __awaiter(void 0, void 0, void 0, function () {\n    var animationBuilder, ani;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0: return [4 /*yield*/, getAnimationBuilder(opts)];\n            case 1:\n                animationBuilder = _a.sent();\n                ani = (animationBuilder && Build.isBrowser)\n                    ? animation(animationBuilder, opts)\n                    : noAnimation(opts);\n                return [2 /*return*/, ani];\n        }\n    });\n}); };\nvar afterTransition = function (opts) {\n    var enteringEl = opts.enteringEl;\n    var leavingEl = opts.leavingEl;\n    enteringEl.classList.remove('ion-page-invisible');\n    if (leavingEl !== undefined) {\n        leavingEl.classList.remove('ion-page-invisible');\n    }\n};\nvar getAnimationBuilder = function (opts) { return __awaiter(void 0, void 0, void 0, function () {\n    var getAnimation, _a;\n    return __generator(this, function (_b) {\n        switch (_b.label) {\n            case 0:\n                if (!opts.leavingEl || !opts.animated || opts.duration === 0) {\n                    return [2 /*return*/, undefined];\n                }\n                if (opts.animationBuilder) {\n                    return [2 /*return*/, opts.animationBuilder];\n                }\n                if (!(opts.mode === 'ios')) return [3 /*break*/, 2];\n                return [4 /*yield*/, iosTransitionAnimation()];\n            case 1:\n                _a = (_b.sent()).iosTransitionAnimation;\n                return [3 /*break*/, 4];\n            case 2: return [4 /*yield*/, mdTransitionAnimation()];\n            case 3:\n                _a = (_b.sent()).mdTransitionAnimation;\n                _b.label = 4;\n            case 4:\n                getAnimation = _a;\n                return [2 /*return*/, getAnimation];\n        }\n    });\n}); };\nvar animation = function (animationBuilder, opts) { return __awaiter(void 0, void 0, void 0, function () {\n    var trans, didComplete;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0: return [4 /*yield*/, waitForReady(opts, true)];\n            case 1:\n                _a.sent();\n                trans = animationBuilder(opts.baseEl, opts);\n                fireWillEvents(opts.enteringEl, opts.leavingEl);\n                return [4 /*yield*/, playTransition(trans, opts)];\n            case 2:\n                didComplete = _a.sent();\n                if (opts.progressCallback) {\n                    opts.progressCallback(undefined);\n                }\n                if (didComplete) {\n                    fireDidEvents(opts.enteringEl, opts.leavingEl);\n                }\n                return [2 /*return*/, {\n                        hasCompleted: didComplete,\n                        animation: trans\n                    }];\n        }\n    });\n}); };\nvar noAnimation = function (opts) { return __awaiter(void 0, void 0, void 0, function () {\n    var enteringEl, leavingEl;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                enteringEl = opts.enteringEl;\n                leavingEl = opts.leavingEl;\n                return [4 /*yield*/, waitForReady(opts, false)];\n            case 1:\n                _a.sent();\n                fireWillEvents(enteringEl, leavingEl);\n                fireDidEvents(enteringEl, leavingEl);\n                return [2 /*return*/, {\n                        hasCompleted: true\n                    }];\n        }\n    });\n}); };\nvar waitForReady = function (opts, defaultDeep) { return __awaiter(void 0, void 0, void 0, function () {\n    var deep, promises;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                deep = opts.deepWait !== undefined ? opts.deepWait : defaultDeep;\n                promises = deep ? [\n                    deepReady(opts.enteringEl),\n                    deepReady(opts.leavingEl),\n                ] : [\n                    shallowReady(opts.enteringEl),\n                    shallowReady(opts.leavingEl),\n                ];\n                return [4 /*yield*/, Promise.all(promises)];\n            case 1:\n                _a.sent();\n                return [4 /*yield*/, notifyViewReady(opts.viewIsReady, opts.enteringEl)];\n            case 2:\n                _a.sent();\n                return [2 /*return*/];\n        }\n    });\n}); };\nvar notifyViewReady = function (viewIsReady, enteringEl) { return __awaiter(void 0, void 0, void 0, function () {\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (!viewIsReady) return [3 /*break*/, 2];\n                return [4 /*yield*/, viewIsReady(enteringEl)];\n            case 1:\n                _a.sent();\n                _a.label = 2;\n            case 2: return [2 /*return*/];\n        }\n    });\n}); };\nvar playTransition = function (trans, opts) {\n    var progressCallback = opts.progressCallback;\n    var promise = new Promise(function (resolve) {\n        trans.onFinish(function (currentStep) { return resolve(currentStep === 1); });\n    });\n    // cool, let's do this, start the transition\n    if (progressCallback) {\n        // this is a swipe to go back, just get the transition progress ready\n        // kick off the swipe animation start\n        trans.progressStart(true);\n        progressCallback(trans);\n    }\n    else {\n        // only the top level transition should actually start \"play\"\n        // kick it off and let it play through\n        // ******** DOM WRITE ****************\n        trans.play();\n    }\n    // create a callback for when the animation is done\n    return promise;\n};\nvar fireWillEvents = function (enteringEl, leavingEl) {\n    lifecycle(leavingEl, LIFECYCLE_WILL_LEAVE);\n    lifecycle(enteringEl, LIFECYCLE_WILL_ENTER);\n};\nvar fireDidEvents = function (enteringEl, leavingEl) {\n    lifecycle(enteringEl, LIFECYCLE_DID_ENTER);\n    lifecycle(leavingEl, LIFECYCLE_DID_LEAVE);\n};\nvar lifecycle = function (el, eventName) {\n    if (el) {\n        var ev = new CustomEvent(eventName, {\n            bubbles: false,\n            cancelable: false,\n        });\n        el.dispatchEvent(ev);\n    }\n};\nvar shallowReady = function (el) {\n    if (el && el.componentOnReady) {\n        return el.componentOnReady();\n    }\n    return Promise.resolve();\n};\nvar deepReady = function (el) { return __awaiter(void 0, void 0, void 0, function () {\n    var element, stencilEl;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                element = el;\n                if (!element) return [3 /*break*/, 4];\n                if (!(element.componentOnReady != null)) return [3 /*break*/, 2];\n                return [4 /*yield*/, element.componentOnReady()];\n            case 1:\n                stencilEl = _a.sent();\n                if (stencilEl != null) {\n                    return [2 /*return*/];\n                }\n                _a.label = 2;\n            case 2: return [4 /*yield*/, Promise.all(Array.from(element.children).map(deepReady))];\n            case 3:\n                _a.sent();\n                _a.label = 4;\n            case 4: return [2 /*return*/];\n        }\n    });\n}); };\nvar setPageHidden = function (el, hidden) {\n    if (hidden) {\n        el.setAttribute('aria-hidden', 'true');\n        el.classList.add('ion-page-hidden');\n    }\n    else {\n        el.hidden = false;\n        el.removeAttribute('aria-hidden');\n        el.classList.remove('ion-page-hidden');\n    }\n};\nvar setZIndex = function (enteringEl, leavingEl, direction) {\n    if (enteringEl !== undefined) {\n        enteringEl.style.zIndex = (direction === 'back')\n            ? '99'\n            : '101';\n    }\n    if (leavingEl !== undefined) {\n        leavingEl.style.zIndex = '100';\n    }\n};\nvar getIonPageElement = function (element) {\n    if (element.classList.contains('ion-page')) {\n        return element;\n    }\n    var ionPage = element.querySelector(':scope > .ion-page, :scope > ion-nav, :scope > ion-tabs');\n    if (ionPage) {\n        return ionPage;\n    }\n    // idk, return the original element so at least something animates and we don't have a null pointer\n    return element;\n};\nexport { LIFECYCLE_WILL_ENTER as L, LIFECYCLE_DID_ENTER as a, LIFECYCLE_WILL_LEAVE as b, LIFECYCLE_DID_LEAVE as c, LIFECYCLE_WILL_UNLOAD as d, deepReady as e, getIonPageElement as g, lifecycle as l, setPageHidden as s, transition as t };\n","/**\n * Based on:\n * https://stackoverflow.com/questions/7348009/y-coordinate-for-a-given-x-cubic-bezier\n * https://math.stackexchange.com/questions/26846/is-there-an-explicit-form-for-cubic-b%C3%A9zier-curves\n * TODO: Reduce rounding error\n */\n/**\n * EXPERIMENTAL\n * Given a cubic-bezier curve, get the x value (time) given\n * the y value (progression).\n * Ex: cubic-bezier(0.32, 0.72, 0, 1);\n * P0: (0, 0)\n * P1: (0.32, 0.72)\n * P2: (0, 1)\n * P3: (1, 1)\n *\n * If you give a cubic bezier curve that never reaches the\n * provided progression, this function will return an empty array.\n */\nvar getTimeGivenProgression = function (p0, p1, p2, p3, progression) {\n    return solveCubicBezier(p0[1], p1[1], p2[1], p3[1], progression).map(function (tValue) {\n        return solveCubicParametricEquation(p0[0], p1[0], p2[0], p3[0], tValue);\n    });\n};\n/**\n * Solve a cubic equation in one dimension (time)\n */\nvar solveCubicParametricEquation = function (p0, p1, p2, p3, t) {\n    var partA = (3 * p1) * Math.pow(t - 1, 2);\n    var partB = (-3 * p2 * t) + (3 * p2) + (p3 * t);\n    var partC = p0 * Math.pow(t - 1, 3);\n    return t * (partA + (t * partB)) - partC;\n};\n/**\n * Find the `t` value for a cubic bezier using Cardano's formula\n */\nvar solveCubicBezier = function (p0, p1, p2, p3, refPoint) {\n    p0 -= refPoint;\n    p1 -= refPoint;\n    p2 -= refPoint;\n    p3 -= refPoint;\n    var roots = solveCubicEquation(p3 - 3 * p2 + 3 * p1 - p0, 3 * p2 - 6 * p1 + 3 * p0, 3 * p1 - 3 * p0, p0);\n    return roots.filter(function (root) { return root >= 0 && root <= 1; });\n};\nvar solveQuadraticEquation = function (a, b, c) {\n    var discriminant = b * b - 4 * a * c;\n    if (discriminant < 0) {\n        return [];\n    }\n    else {\n        return [\n            (-b + Math.sqrt(discriminant)) / (2 * a),\n            (-b - Math.sqrt(discriminant)) / (2 * a)\n        ];\n    }\n};\nvar solveCubicEquation = function (a, b, c, d) {\n    if (a === 0) {\n        return solveQuadraticEquation(b, c, d);\n    }\n    b /= a;\n    c /= a;\n    d /= a;\n    var p = (3 * c - b * b) / 3;\n    var q = (2 * b * b * b - 9 * b * c + 27 * d) / 27;\n    if (p === 0) {\n        return [Math.pow(-q, 1 / 3)];\n    }\n    else if (q === 0) {\n        return [Math.sqrt(-p), -Math.sqrt(-p)];\n    }\n    var discriminant = Math.pow(q / 2, 2) + Math.pow(p / 3, 3);\n    if (discriminant === 0) {\n        return [Math.pow(q / 2, 1 / 2) - b / 3];\n    }\n    else if (discriminant > 0) {\n        return [Math.pow(-(q / 2) + Math.sqrt(discriminant), 1 / 3) - Math.pow((q / 2) + Math.sqrt(discriminant), 1 / 3) - b / 3];\n    }\n    var r = Math.sqrt(Math.pow(-(p / 3), 3));\n    var phi = Math.acos(-(q / (2 * Math.sqrt(Math.pow(-(p / 3), 3)))));\n    var s = 2 * Math.pow(r, 1 / 3);\n    return [\n        s * Math.cos(phi / 3) - b / 3,\n        s * Math.cos((phi + 2 * Math.PI) / 3) - b / 3,\n        s * Math.cos((phi + 4 * Math.PI) / 3) - b / 3\n    ];\n};\nexport { getTimeGivenProgression as g };\n","import { __awaiter, __generator } from \"tslib\";\nvar attachComponent = function (delegate, container, component, cssClasses, componentProps) { return __awaiter(void 0, void 0, void 0, function () {\n    var el;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (delegate) {\n                    return [2 /*return*/, delegate.attachViewToDom(container, component, componentProps, cssClasses)];\n                }\n                if (typeof component !== 'string' && !(component instanceof HTMLElement)) {\n                    throw new Error('framework delegate is missing');\n                }\n                el = (typeof component === 'string')\n                    ? container.ownerDocument && container.ownerDocument.createElement(component)\n                    : component;\n                if (cssClasses) {\n                    cssClasses.forEach(function (c) { return el.classList.add(c); });\n                }\n                if (componentProps) {\n                    Object.assign(el, componentProps);\n                }\n                container.appendChild(el);\n                if (!el.componentOnReady) return [3 /*break*/, 2];\n                return [4 /*yield*/, el.componentOnReady()];\n            case 1:\n                _a.sent();\n                _a.label = 2;\n            case 2: return [2 /*return*/, el];\n        }\n    });\n}); };\nvar detachComponent = function (delegate, element) {\n    if (element) {\n        if (delegate) {\n            var container = element.parentElement;\n            return delegate.removeViewFromDom(container, element);\n        }\n        element.remove();\n    }\n    return Promise.resolve();\n};\nexport { attachComponent as a, detachComponent as d };\n","import { __awaiter, __generator } from \"tslib\";\nimport { r as registerInstance, e as createEvent, c as writeTask, h, H as Host, i as getElement } from './index-92848855.js';\nimport { b as getIonMode, c as config } from './ionic-global-23e7365a.js';\nimport { c as clamp } from './helpers-5c745fbd.js';\nimport { c as createAnimation } from './animation-a635a2fc.js';\nimport { e as deepReady } from './index-9b2fc761.js';\nimport { g as getTimeGivenProgression } from './cubic-bezier-685f606a.js';\nimport './gesture-controller-89173521.js';\nimport { createGesture } from './index-eea61379.js';\nimport './hardware-back-button-7b6ede21.js';\nimport { B as BACKDROP, e as prepareOverlay, d as present, h as activeAnimations, f as dismiss, g as eventMethod } from './overlays-c5d9d644.js';\nimport { g as getClassMap } from './theme-5641d27f.js';\nimport { a as attachComponent, d as detachComponent } from './framework-delegate-d1eb6504.js';\n// Defaults for the card swipe animation\nvar SwipeToCloseDefaults = {\n    MIN_PRESENTING_SCALE: 0.93,\n};\nvar createSwipeToCloseGesture = function (el, animation, onDismiss) {\n    var height = el.offsetHeight;\n    var isOpen = false;\n    var canStart = function (detail) {\n        var target = detail.event.target;\n        if (target === null ||\n            !target.closest) {\n            return true;\n        }\n        var content = target.closest('ion-content');\n        if (content === null) {\n            return true;\n        }\n        // Target is in the content so we don't start the gesture.\n        // We could be more nuanced here and allow it for content that\n        // does not need to scroll.\n        return false;\n    };\n    var onStart = function () {\n        animation.progressStart(true, (isOpen) ? 1 : 0);\n    };\n    var onMove = function (detail) {\n        var step = clamp(0.0001, detail.deltaY / height, 0.9999);\n        animation.progressStep(step);\n    };\n    var onEnd = function (detail) {\n        var velocity = detail.velocityY;\n        var step = clamp(0.0001, detail.deltaY / height, 0.9999);\n        var threshold = (detail.deltaY + velocity * 1000) / height;\n        var shouldComplete = threshold >= 0.5;\n        var newStepValue = (shouldComplete) ? -0.001 : 0.001;\n        if (!shouldComplete) {\n            animation.easing('cubic-bezier(1, 0, 0.68, 0.28)');\n            newStepValue += getTimeGivenProgression([0, 0], [1, 0], [0.68, 0.28], [1, 1], step)[0];\n        }\n        else {\n            animation.easing('cubic-bezier(0.32, 0.72, 0, 1)');\n            newStepValue += getTimeGivenProgression([0, 0], [0.32, 0.72], [0, 1], [1, 1], step)[0];\n        }\n        var duration = (shouldComplete) ? computeDuration(step * height, velocity) : computeDuration((1 - step) * height, velocity);\n        isOpen = shouldComplete;\n        gesture.enable(false);\n        animation\n            .onFinish(function () {\n            if (!shouldComplete) {\n                gesture.enable(true);\n            }\n        })\n            .progressEnd((shouldComplete) ? 1 : 0, newStepValue, duration);\n        if (shouldComplete) {\n            onDismiss();\n        }\n    };\n    var gesture = createGesture({\n        el: el,\n        gestureName: 'modalSwipeToClose',\n        gesturePriority: 40,\n        direction: 'y',\n        threshold: 10,\n        canStart: canStart,\n        onStart: onStart,\n        onMove: onMove,\n        onEnd: onEnd\n    });\n    return gesture;\n};\nvar computeDuration = function (remaining, velocity) {\n    return clamp(400, remaining / Math.abs(velocity * 1.1), 500);\n};\n/**\n * iOS Modal Enter Animation for the Card presentation style\n */\nvar iosEnterAnimation = function (baseEl, presentingEl) {\n    var backdropAnimation = createAnimation()\n        .addElement(baseEl.querySelector('ion-backdrop'))\n        .fromTo('opacity', 0.01, 'var(--backdrop-opacity)')\n        .beforeStyles({\n        'pointer-events': 'none'\n    })\n        .afterClearStyles(['pointer-events']);\n    var wrapperAnimation = createAnimation()\n        .addElement(baseEl.querySelectorAll('.modal-wrapper, .modal-shadow'))\n        .beforeStyles({ 'opacity': 1 })\n        .fromTo('transform', 'translateY(100vh)', 'translateY(0vh)');\n    var baseAnimation = createAnimation()\n        .addElement(baseEl)\n        .easing('cubic-bezier(0.32,0.72,0,1)')\n        .duration(500)\n        .addAnimation(wrapperAnimation);\n    if (presentingEl) {\n        var isMobile = window.innerWidth < 768;\n        var hasCardModal = (presentingEl.tagName === 'ION-MODAL' && presentingEl.presentingElement !== undefined);\n        var presentingAnimation = createAnimation()\n            .beforeStyles({\n            'transform': 'translateY(0)',\n            'transform-origin': 'top center',\n            'overflow': 'hidden'\n        });\n        var bodyEl_1 = document.body;\n        if (isMobile) {\n            /**\n             * Fallback for browsers that does not support `max()` (ex: Firefox)\n             * No need to worry about statusbar padding since engines like Gecko\n             * are not used as the engine for standlone Cordova/Capacitor apps\n             */\n            var transformOffset = (!CSS.supports('width', 'max(0px, 1px)')) ? '30px' : 'max(30px, var(--ion-safe-area-top))';\n            var modalTransform = hasCardModal ? '-10px' : transformOffset;\n            var toPresentingScale = SwipeToCloseDefaults.MIN_PRESENTING_SCALE;\n            var finalTransform = \"translateY(\" + modalTransform + \") scale(\" + toPresentingScale + \")\";\n            presentingAnimation\n                .afterStyles({\n                'transform': finalTransform\n            })\n                .beforeAddWrite(function () { return bodyEl_1.style.setProperty('background-color', 'black'); })\n                .addElement(presentingEl)\n                .keyframes([\n                { offset: 0, filter: 'contrast(1)', transform: 'translateY(0px) scale(1)', borderRadius: '0px' },\n                { offset: 1, filter: 'contrast(0.85)', transform: finalTransform, borderRadius: '10px 10px 0 0' }\n            ]);\n            baseAnimation.addAnimation(presentingAnimation);\n        }\n        else {\n            baseAnimation.addAnimation(backdropAnimation);\n            if (!hasCardModal) {\n                wrapperAnimation.fromTo('opacity', '0', '1');\n            }\n            else {\n                var toPresentingScale = (hasCardModal) ? SwipeToCloseDefaults.MIN_PRESENTING_SCALE : 1;\n                var finalTransform = \"translateY(-10px) scale(\" + toPresentingScale + \")\";\n                presentingAnimation\n                    .afterStyles({\n                    'transform': finalTransform\n                })\n                    .addElement(presentingEl.querySelector('.modal-wrapper'))\n                    .keyframes([\n                    { offset: 0, filter: 'contrast(1)', transform: 'translateY(0) scale(1)' },\n                    { offset: 1, filter: 'contrast(0.85)', transform: finalTransform }\n                ]);\n                var shadowAnimation = createAnimation()\n                    .afterStyles({\n                    'transform': finalTransform\n                })\n                    .addElement(presentingEl.querySelector('.modal-shadow'))\n                    .keyframes([\n                    { offset: 0, opacity: '1', transform: 'translateY(0) scale(1)' },\n                    { offset: 1, opacity: '0', transform: finalTransform }\n                ]);\n                baseAnimation.addAnimation([presentingAnimation, shadowAnimation]);\n            }\n        }\n    }\n    else {\n        baseAnimation.addAnimation(backdropAnimation);\n    }\n    return baseAnimation;\n};\n/**\n * iOS Modal Leave Animation\n */\nvar iosLeaveAnimation = function (baseEl, presentingEl, duration) {\n    if (duration === void 0) { duration = 500; }\n    var backdropAnimation = createAnimation()\n        .addElement(baseEl.querySelector('ion-backdrop'))\n        .fromTo('opacity', 'var(--backdrop-opacity)', 0.0);\n    var wrapperAnimation = createAnimation()\n        .addElement(baseEl.querySelectorAll('.modal-wrapper, .modal-shadow'))\n        .beforeStyles({ 'opacity': 1 })\n        .fromTo('transform', 'translateY(0vh)', 'translateY(100vh)');\n    var baseAnimation = createAnimation()\n        .addElement(baseEl)\n        .easing('cubic-bezier(0.32,0.72,0,1)')\n        .duration(duration)\n        .addAnimation(wrapperAnimation);\n    if (presentingEl) {\n        var isMobile = window.innerWidth < 768;\n        var hasCardModal = (presentingEl.tagName === 'ION-MODAL' && presentingEl.presentingElement !== undefined);\n        var presentingAnimation = createAnimation()\n            .beforeClearStyles(['transform'])\n            .afterClearStyles(['transform'])\n            .onFinish(function (currentStep) {\n            // only reset background color if this is the last card-style modal\n            if (currentStep !== 1) {\n                return;\n            }\n            presentingEl.style.setProperty('overflow', '');\n            var numModals = Array.from(bodyEl_2.querySelectorAll('ion-modal')).filter(function (m) { return m.presentingElement !== undefined; }).length;\n            if (numModals <= 1) {\n                bodyEl_2.style.setProperty('background-color', '');\n            }\n        });\n        var bodyEl_2 = document.body;\n        if (isMobile) {\n            var transformOffset = (!CSS.supports('width', 'max(0px, 1px)')) ? '30px' : 'max(30px, var(--ion-safe-area-top))';\n            var modalTransform = hasCardModal ? '-10px' : transformOffset;\n            var toPresentingScale = SwipeToCloseDefaults.MIN_PRESENTING_SCALE;\n            var finalTransform = \"translateY(\" + modalTransform + \") scale(\" + toPresentingScale + \")\";\n            presentingAnimation\n                .addElement(presentingEl)\n                .keyframes([\n                { offset: 0, filter: 'contrast(0.85)', transform: finalTransform, borderRadius: '10px 10px 0 0' },\n                { offset: 1, filter: 'contrast(1)', transform: 'translateY(0px) scale(1)', borderRadius: '0px' }\n            ]);\n            baseAnimation.addAnimation(presentingAnimation);\n        }\n        else {\n            baseAnimation.addAnimation(backdropAnimation);\n            if (!hasCardModal) {\n                wrapperAnimation.fromTo('opacity', '1', '0');\n            }\n            else {\n                var toPresentingScale = (hasCardModal) ? SwipeToCloseDefaults.MIN_PRESENTING_SCALE : 1;\n                var finalTransform = \"translateY(-10px) scale(\" + toPresentingScale + \")\";\n                presentingAnimation\n                    .addElement(presentingEl.querySelector('.modal-wrapper'))\n                    .afterStyles({\n                    'transform': 'translate3d(0, 0, 0)'\n                })\n                    .keyframes([\n                    { offset: 0, filter: 'contrast(0.85)', transform: finalTransform },\n                    { offset: 1, filter: 'contrast(1)', transform: 'translateY(0) scale(1)' }\n                ]);\n                var shadowAnimation = createAnimation()\n                    .addElement(presentingEl.querySelector('.modal-shadow'))\n                    .afterStyles({\n                    'transform': 'translateY(0) scale(1)'\n                })\n                    .keyframes([\n                    { offset: 0, opacity: '0', transform: finalTransform },\n                    { offset: 1, opacity: '1', transform: 'translateY(0) scale(1)' }\n                ]);\n                baseAnimation.addAnimation([presentingAnimation, shadowAnimation]);\n            }\n        }\n    }\n    else {\n        baseAnimation.addAnimation(backdropAnimation);\n    }\n    return baseAnimation;\n};\n/**\n * Md Modal Enter Animation\n */\nvar mdEnterAnimation = function (baseEl) {\n    var baseAnimation = createAnimation();\n    var backdropAnimation = createAnimation();\n    var wrapperAnimation = createAnimation();\n    backdropAnimation\n        .addElement(baseEl.querySelector('ion-backdrop'))\n        .fromTo('opacity', 0.01, 'var(--backdrop-opacity)')\n        .beforeStyles({\n        'pointer-events': 'none'\n    })\n        .afterClearStyles(['pointer-events']);\n    wrapperAnimation\n        .addElement(baseEl.querySelector('.modal-wrapper'))\n        .keyframes([\n        { offset: 0, opacity: 0.01, transform: 'translateY(40px)' },\n        { offset: 1, opacity: 1, transform: 'translateY(0px)' }\n    ]);\n    return baseAnimation\n        .addElement(baseEl)\n        .easing('cubic-bezier(0.36,0.66,0.04,1)')\n        .duration(280)\n        .addAnimation([backdropAnimation, wrapperAnimation]);\n};\n/**\n * Md Modal Leave Animation\n */\nvar mdLeaveAnimation = function (baseEl) {\n    var baseAnimation = createAnimation();\n    var backdropAnimation = createAnimation();\n    var wrapperAnimation = createAnimation();\n    var wrapperEl = baseEl.querySelector('.modal-wrapper');\n    backdropAnimation\n        .addElement(baseEl.querySelector('ion-backdrop'))\n        .fromTo('opacity', 'var(--backdrop-opacity)', 0.0);\n    wrapperAnimation\n        .addElement(wrapperEl)\n        .keyframes([\n        { offset: 0, opacity: 0.99, transform: 'translateY(0px)' },\n        { offset: 1, opacity: 0, transform: 'translateY(40px)' }\n    ]);\n    return baseAnimation\n        .addElement(baseEl)\n        .easing('cubic-bezier(0.47,0,0.745,0.715)')\n        .duration(200)\n        .addAnimation([backdropAnimation, wrapperAnimation]);\n};\nvar modalIosCss = \".sc-ion-modal-ios-h{--width:100%;--min-width:auto;--max-width:auto;--height:100%;--min-height:auto;--max-height:auto;--overflow:hidden;--border-radius:0;--border-width:0;--border-style:none;--border-color:transparent;--background:var(--ion-background-color, #fff);--box-shadow:none;--backdrop-opacity:0;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:absolute;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;contain:strict}.overlay-hidden.sc-ion-modal-ios-h{display:none}.modal-wrapper.sc-ion-modal-ios,.modal-shadow.sc-ion-modal-ios{border-radius:var(--border-radius);width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);overflow:var(--overflow);z-index:10}.modal-shadow.sc-ion-modal-ios{position:absolute;background:transparent}@media only screen and (min-width: 768px) and (min-height: 600px){.sc-ion-modal-ios-h{--width:600px;--height:500px;--ion-safe-area-top:0px;--ion-safe-area-bottom:0px;--ion-safe-area-right:0px;--ion-safe-area-left:0px}}@media only screen and (min-width: 768px) and (min-height: 768px){.sc-ion-modal-ios-h{--width:600px;--height:600px}}.sc-ion-modal-ios-h:first-of-type{--backdrop-opacity:var(--ion-backdrop-opacity, 0.4)}@media only screen and (min-width: 768px) and (min-height: 600px){.sc-ion-modal-ios-h{--border-radius:10px}}.modal-wrapper.sc-ion-modal-ios{-webkit-transform:translate3d(0,  100%,  0);transform:translate3d(0,  100%,  0)}@media screen and (max-width: 767px){@supports (width: max(0px, 1px)){.modal-card.sc-ion-modal-ios-h{--height:calc(100% - max(30px, var(--ion-safe-area-top)) - 10px)}}@supports not (width: max(0px, 1px)){.modal-card.sc-ion-modal-ios-h{--height:calc(100% - 40px)}}.modal-card.sc-ion-modal-ios-h .modal-wrapper.sc-ion-modal-ios{border-top-left-radius:10px;border-top-right-radius:10px;border-bottom-right-radius:0;border-bottom-left-radius:0}[dir=rtl].sc-ion-modal-ios-h -no-combinator.modal-card.sc-ion-modal-ios-h .modal-wrapper.sc-ion-modal-ios,[dir=rtl] .sc-ion-modal-ios-h -no-combinator.modal-card.sc-ion-modal-ios-h .modal-wrapper.sc-ion-modal-ios,[dir=rtl].modal-card.sc-ion-modal-ios-h .modal-wrapper.sc-ion-modal-ios,[dir=rtl] .modal-card.sc-ion-modal-ios-h .modal-wrapper.sc-ion-modal-ios{border-top-left-radius:10px;border-top-right-radius:10px;border-bottom-right-radius:0;border-bottom-left-radius:0}.modal-card.sc-ion-modal-ios-h{--backdrop-opacity:0;--width:100%;-ms-flex-align:end;align-items:flex-end}.modal-card.sc-ion-modal-ios-h .modal-shadow.sc-ion-modal-ios{display:none}.modal-card.sc-ion-modal-ios-h ion-backdrop.sc-ion-modal-ios{pointer-events:none}}@media screen and (min-width: 768px){.modal-card.sc-ion-modal-ios-h{--width:calc(100% - 120px);--height:calc(100% - (120px + var(--ion-safe-area-top) + var(--ion-safe-area-bottom)));--max-width:720px;--max-height:1000px}.modal-card.sc-ion-modal-ios-h{--backdrop-opacity:0;-webkit-transition:all 0.5s ease-in-out;transition:all 0.5s ease-in-out}.modal-card.sc-ion-modal-ios-h:first-of-type{--backdrop-opacity:0.18}.modal-card.sc-ion-modal-ios-h .modal-shadow.sc-ion-modal-ios{-webkit-box-shadow:0px 0px 30px 10px rgba(0, 0, 0, 0.1);box-shadow:0px 0px 30px 10px rgba(0, 0, 0, 0.1)}}\";\nvar modalMdCss = \".sc-ion-modal-md-h{--width:100%;--min-width:auto;--max-width:auto;--height:100%;--min-height:auto;--max-height:auto;--overflow:hidden;--border-radius:0;--border-width:0;--border-style:none;--border-color:transparent;--background:var(--ion-background-color, #fff);--box-shadow:none;--backdrop-opacity:0;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:absolute;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;contain:strict}.overlay-hidden.sc-ion-modal-md-h{display:none}.modal-wrapper.sc-ion-modal-md,.modal-shadow.sc-ion-modal-md{border-radius:var(--border-radius);width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);overflow:var(--overflow);z-index:10}.modal-shadow.sc-ion-modal-md{position:absolute;background:transparent}@media only screen and (min-width: 768px) and (min-height: 600px){.sc-ion-modal-md-h{--width:600px;--height:500px;--ion-safe-area-top:0px;--ion-safe-area-bottom:0px;--ion-safe-area-right:0px;--ion-safe-area-left:0px}}@media only screen and (min-width: 768px) and (min-height: 768px){.sc-ion-modal-md-h{--width:600px;--height:600px}}.sc-ion-modal-md-h:first-of-type{--backdrop-opacity:var(--ion-backdrop-opacity, 0.32)}@media only screen and (min-width: 768px) and (min-height: 600px){.sc-ion-modal-md-h{--border-radius:2px}.sc-ion-modal-md-h:first-of-type{--box-shadow:0 28px 48px rgba(0, 0, 0, 0.4)}}.modal-wrapper.sc-ion-modal-md{-webkit-transform:translate3d(0,  40px,  0);transform:translate3d(0,  40px,  0);opacity:0.01}\";\nvar Modal = /** @class */ (function () {\n    function class_1(hostRef) {\n        var _this = this;\n        registerInstance(this, hostRef);\n        this.didPresent = createEvent(this, \"ionModalDidPresent\", 7);\n        this.willPresent = createEvent(this, \"ionModalWillPresent\", 7);\n        this.willDismiss = createEvent(this, \"ionModalWillDismiss\", 7);\n        this.didDismiss = createEvent(this, \"ionModalDidDismiss\", 7);\n        // Whether or not modal is being dismissed via gesture\n        this.gestureAnimationDismissing = false;\n        this.presented = false;\n        /**\n         * If `true`, the keyboard will be automatically dismissed when the overlay is presented.\n         */\n        this.keyboardClose = true;\n        /**\n         * If `true`, the modal will be dismissed when the backdrop is clicked.\n         */\n        this.backdropDismiss = true;\n        /**\n         * If `true`, a backdrop will be displayed behind the modal.\n         */\n        this.showBackdrop = true;\n        /**\n         * If `true`, the modal will animate.\n         */\n        this.animated = true;\n        /**\n         * If `true`, the modal can be swiped to dismiss. Only applies in iOS mode.\n         */\n        this.swipeToClose = false;\n        this.onBackdropTap = function () {\n            _this.dismiss(undefined, BACKDROP);\n        };\n        this.onDismiss = function (ev) {\n            ev.stopPropagation();\n            ev.preventDefault();\n            _this.dismiss();\n        };\n        this.onLifecycle = function (modalEvent) {\n            var el = _this.usersElement;\n            var name = LIFECYCLE_MAP[modalEvent.type];\n            if (el && name) {\n                var ev = new CustomEvent(name, {\n                    bubbles: false,\n                    cancelable: false,\n                    detail: modalEvent.detail\n                });\n                el.dispatchEvent(ev);\n            }\n        };\n    }\n    class_1.prototype.swipeToCloseChanged = function (enable) {\n        if (this.gesture) {\n            this.gesture.enable(enable);\n        }\n        else if (enable) {\n            this.initSwipeToClose();\n        }\n    };\n    class_1.prototype.connectedCallback = function () {\n        prepareOverlay(this.el);\n    };\n    /**\n     * Present the modal overlay after it has been created.\n     */\n    class_1.prototype.present = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var container, componentProps, _a;\n            var _this = this;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        if (this.presented) {\n                            return [2 /*return*/];\n                        }\n                        container = this.el.querySelector(\".modal-wrapper\");\n                        if (!container) {\n                            throw new Error('container is undefined');\n                        }\n                        componentProps = Object.assign(Object.assign({}, this.componentProps), { modal: this.el });\n                        _a = this;\n                        return [4 /*yield*/, attachComponent(this.delegate, container, this.component, ['ion-page'], componentProps)];\n                    case 1:\n                        _a.usersElement = _b.sent();\n                        return [4 /*yield*/, deepReady(this.usersElement)];\n                    case 2:\n                        _b.sent();\n                        writeTask(function () { return _this.el.classList.add('show-modal'); });\n                        return [4 /*yield*/, present(this, 'modalEnter', iosEnterAnimation, mdEnterAnimation, this.presentingElement)];\n                    case 3:\n                        _b.sent();\n                        if (this.swipeToClose) {\n                            this.initSwipeToClose();\n                        }\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    class_1.prototype.initSwipeToClose = function () {\n        var _this = this;\n        if (getIonMode(this) !== 'ios') {\n            return;\n        }\n        // All of the elements needed for the swipe gesture\n        // should be in the DOM and referenced by now, except\n        // for the presenting el\n        var animationBuilder = this.leaveAnimation || config.get('modalLeave', iosLeaveAnimation);\n        var ani = this.animation = animationBuilder(this.el, this.presentingElement);\n        this.gesture = createSwipeToCloseGesture(this.el, ani, function () {\n            /**\n             * While the gesture animation is finishing\n             * it is possible for a user to tap the backdrop.\n             * This would result in the dismiss animation\n             * being played again. Typically this is avoided\n             * by setting `presented = false` on the overlay\n             * component; however, we cannot do that here as\n             * that would prevent the element from being\n             * removed from the DOM.\n             */\n            _this.gestureAnimationDismissing = true;\n            _this.animation.onFinish(function () { return __awaiter(_this, void 0, void 0, function () {\n                return __generator(this, function (_a) {\n                    switch (_a.label) {\n                        case 0: return [4 /*yield*/, this.dismiss(undefined, 'gesture')];\n                        case 1:\n                            _a.sent();\n                            this.gestureAnimationDismissing = false;\n                            return [2 /*return*/];\n                    }\n                });\n            }); });\n        });\n        this.gesture.enable(true);\n    };\n    /**\n     * Dismiss the modal overlay after it has been presented.\n     *\n     * @param data Any data to emit in the dismiss events.\n     * @param role The role of the element that is dismissing the modal. For example, 'cancel' or 'backdrop'.\n     */\n    class_1.prototype.dismiss = function (data, role) {\n        return __awaiter(this, void 0, void 0, function () {\n            var enteringAnimation, dismissed;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (this.gestureAnimationDismissing && role !== 'gesture') {\n                            return [2 /*return*/, false];\n                        }\n                        enteringAnimation = activeAnimations.get(this) || [];\n                        return [4 /*yield*/, dismiss(this, data, role, 'modalLeave', iosLeaveAnimation, mdLeaveAnimation, this.presentingElement)];\n                    case 1:\n                        dismissed = _a.sent();\n                        if (!dismissed) return [3 /*break*/, 3];\n                        return [4 /*yield*/, detachComponent(this.delegate, this.usersElement)];\n                    case 2:\n                        _a.sent();\n                        if (this.animation) {\n                            this.animation.destroy();\n                        }\n                        enteringAnimation.forEach(function (ani) { return ani.destroy(); });\n                        _a.label = 3;\n                    case 3:\n                        this.animation = undefined;\n                        return [2 /*return*/, dismissed];\n                }\n            });\n        });\n    };\n    /**\n     * Returns a promise that resolves when the modal did dismiss.\n     */\n    class_1.prototype.onDidDismiss = function () {\n        return eventMethod(this.el, 'ionModalDidDismiss');\n    };\n    /**\n     * Returns a promise that resolves when the modal will dismiss.\n     */\n    class_1.prototype.onWillDismiss = function () {\n        return eventMethod(this.el, 'ionModalWillDismiss');\n    };\n    class_1.prototype.render = function () {\n        var _a;\n        var mode = getIonMode(this);\n        return (h(Host, { \"no-router\": true, \"aria-modal\": \"true\", tabindex: \"-1\", class: Object.assign((_a = {}, _a[mode] = true, _a[\"modal-card\"] = this.presentingElement !== undefined && mode === 'ios', _a), getClassMap(this.cssClass)), style: {\n                zIndex: \"\" + (20000 + this.overlayIndex),\n            }, onIonBackdropTap: this.onBackdropTap, onIonDismiss: this.onDismiss, onIonModalDidPresent: this.onLifecycle, onIonModalWillPresent: this.onLifecycle, onIonModalWillDismiss: this.onLifecycle, onIonModalDidDismiss: this.onLifecycle }, h(\"ion-backdrop\", { visible: this.showBackdrop, tappable: this.backdropDismiss }), mode === 'ios' && h(\"div\", { class: \"modal-shadow\" }), h(\"div\", { tabindex: \"0\" }), h(\"div\", { role: \"dialog\", class: \"modal-wrapper ion-overlay-wrapper\" }), h(\"div\", { tabindex: \"0\" })));\n    };\n    Object.defineProperty(class_1.prototype, \"el\", {\n        get: function () { return getElement(this); },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(class_1, \"watchers\", {\n        get: function () {\n            return {\n                \"swipeToClose\": [\"swipeToCloseChanged\"]\n            };\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return class_1;\n}());\nvar LIFECYCLE_MAP = {\n    'ionModalDidPresent': 'ionViewDidEnter',\n    'ionModalWillPresent': 'ionViewWillEnter',\n    'ionModalWillDismiss': 'ionViewWillLeave',\n    'ionModalDidDismiss': 'ionViewDidLeave',\n};\nModal.style = {\n    ios: modalIosCss,\n    md: modalMdCss\n};\nexport { Modal as ion_modal };\n","import { __spreadArrays } from \"tslib\";\n/**\n * Gets the root context of a shadow dom element\n * On newer browsers this will be the shadowRoot,\n * but for older browser this may just be the\n * element itself.\n *\n * Useful for whenever you need to explicitly\n * do \"myElement.shadowRoot!.querySelector(...)\".\n */\nvar getElementRoot = function (el, fallback) {\n    if (fallback === void 0) { fallback = el; }\n    return el.shadowRoot || fallback;\n};\n/**\n * Patched version of requestAnimationFrame that avoids ngzone\n * Use only when you know ngzone should not run\n */\nvar raf = function (h) {\n    if (typeof __zone_symbol__requestAnimationFrame === 'function') {\n        return __zone_symbol__requestAnimationFrame(h);\n    }\n    if (typeof requestAnimationFrame === 'function') {\n        return requestAnimationFrame(h);\n    }\n    return setTimeout(h);\n};\nvar hasShadowDom = function (el) {\n    return !!el.shadowRoot && !!el.attachShadow;\n};\nvar findItemLabel = function (componentEl) {\n    var itemEl = componentEl.closest('ion-item');\n    if (itemEl) {\n        return itemEl.querySelector('ion-label');\n    }\n    return null;\n};\nvar renderHiddenInput = function (always, container, name, value, disabled) {\n    if (always || hasShadowDom(container)) {\n        var input = container.querySelector('input.aux-input');\n        if (!input) {\n            input = container.ownerDocument.createElement('input');\n            input.type = 'hidden';\n            input.classList.add('aux-input');\n            container.appendChild(input);\n        }\n        input.disabled = disabled;\n        input.name = name;\n        input.value = value || '';\n    }\n};\nvar clamp = function (min, n, max) {\n    return Math.max(min, Math.min(n, max));\n};\nvar assert = function (actual, reason) {\n    if (!actual) {\n        var message = 'ASSERT: ' + reason;\n        console.error(message);\n        debugger; // tslint:disable-line\n        throw new Error(message);\n    }\n};\nvar now = function (ev) {\n    return ev.timeStamp || Date.now();\n};\nvar pointerCoord = function (ev) {\n    // get X coordinates for either a mouse click\n    // or a touch depending on the given event\n    if (ev) {\n        var changedTouches = ev.changedTouches;\n        if (changedTouches && changedTouches.length > 0) {\n            var touch = changedTouches[0];\n            return { x: touch.clientX, y: touch.clientY };\n        }\n        if (ev.pageX !== undefined) {\n            return { x: ev.pageX, y: ev.pageY };\n        }\n    }\n    return { x: 0, y: 0 };\n};\n/**\n * @hidden\n * Given a side, return if it should be on the end\n * based on the value of dir\n * @param side the side\n * @param isRTL whether the application dir is rtl\n */\nvar isEndSide = function (side) {\n    var isRTL = document.dir === 'rtl';\n    switch (side) {\n        case 'start': return isRTL;\n        case 'end': return !isRTL;\n        default:\n            throw new Error(\"\\\"\" + side + \"\\\" is not a valid value for [side]. Use \\\"start\\\" or \\\"end\\\" instead.\");\n    }\n};\nvar debounceEvent = function (event, wait) {\n    var original = event._original || event;\n    return {\n        _original: event,\n        emit: debounce(original.emit.bind(original), wait)\n    };\n};\nvar debounce = function (func, wait) {\n    if (wait === void 0) { wait = 0; }\n    var timer;\n    return function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        clearTimeout(timer);\n        timer = setTimeout.apply(void 0, __spreadArrays([func, wait], args));\n    };\n};\nexport { renderHiddenInput as a, assert as b, clamp as c, debounceEvent as d, debounce as e, findItemLabel as f, getElementRoot as g, hasShadowDom as h, isEndSide as i, now as n, pointerCoord as p, raf as r };\n","import { __awaiter, __generator } from \"tslib\";\nvar hostContext = function (selector, el) {\n    return el.closest(selector) !== null;\n};\n/**\n * Create the mode and color classes for the component based on the classes passed in\n */\nvar createColorClasses = function (color, cssClassMap) {\n    var _a;\n    return (typeof color === 'string' && color.length > 0) ? Object.assign((_a = { 'ion-color': true }, _a[\"ion-color-\" + color] = true, _a), cssClassMap) : cssClassMap;\n};\nvar getClassList = function (classes) {\n    if (classes !== undefined) {\n        var array = Array.isArray(classes) ? classes : classes.split(' ');\n        return array\n            .filter(function (c) { return c != null; })\n            .map(function (c) { return c.trim(); })\n            .filter(function (c) { return c !== ''; });\n    }\n    return [];\n};\nvar getClassMap = function (classes) {\n    var map = {};\n    getClassList(classes).forEach(function (c) { return map[c] = true; });\n    return map;\n};\nvar SCHEME = /^[a-z][a-z0-9+\\-.]*:/;\nvar openURL = function (url, ev, direction, animation) { return __awaiter(void 0, void 0, void 0, function () {\n    var router;\n    return __generator(this, function (_a) {\n        if (url != null && url[0] !== '#' && !SCHEME.test(url)) {\n            router = document.querySelector('ion-router');\n            if (router) {\n                if (ev != null) {\n                    ev.preventDefault();\n                }\n                return [2 /*return*/, router.push(url, direction, animation)];\n            }\n        }\n        return [2 /*return*/, false];\n    });\n}); };\nexport { createColorClasses as c, getClassMap as g, hostContext as h, openURL as o };\n","var GestureController = /** @class */ (function () {\n    function GestureController() {\n        this.gestureId = 0;\n        this.requestedStart = new Map();\n        this.disabledGestures = new Map();\n        this.disabledScroll = new Set();\n    }\n    /**\n     * Creates a gesture delegate based on the GestureConfig passed\n     */\n    GestureController.prototype.createGesture = function (config) {\n        return new GestureDelegate(this, this.newID(), config.name, config.priority || 0, !!config.disableScroll);\n    };\n    /**\n     * Creates a blocker that will block any other gesture events from firing. Set in the ion-gesture component.\n     */\n    GestureController.prototype.createBlocker = function (opts) {\n        if (opts === void 0) { opts = {}; }\n        return new BlockerDelegate(this, this.newID(), opts.disable, !!opts.disableScroll);\n    };\n    GestureController.prototype.start = function (gestureName, id, priority) {\n        if (!this.canStart(gestureName)) {\n            this.requestedStart.delete(id);\n            return false;\n        }\n        this.requestedStart.set(id, priority);\n        return true;\n    };\n    GestureController.prototype.capture = function (gestureName, id, priority) {\n        if (!this.start(gestureName, id, priority)) {\n            return false;\n        }\n        var requestedStart = this.requestedStart;\n        var maxPriority = -10000;\n        requestedStart.forEach(function (value) {\n            maxPriority = Math.max(maxPriority, value);\n        });\n        if (maxPriority === priority) {\n            this.capturedId = id;\n            requestedStart.clear();\n            var event = new CustomEvent('ionGestureCaptured', { detail: { gestureName: gestureName } });\n            document.dispatchEvent(event);\n            return true;\n        }\n        requestedStart.delete(id);\n        return false;\n    };\n    GestureController.prototype.release = function (id) {\n        this.requestedStart.delete(id);\n        if (this.capturedId === id) {\n            this.capturedId = undefined;\n        }\n    };\n    GestureController.prototype.disableGesture = function (gestureName, id) {\n        var set = this.disabledGestures.get(gestureName);\n        if (set === undefined) {\n            set = new Set();\n            this.disabledGestures.set(gestureName, set);\n        }\n        set.add(id);\n    };\n    GestureController.prototype.enableGesture = function (gestureName, id) {\n        var set = this.disabledGestures.get(gestureName);\n        if (set !== undefined) {\n            set.delete(id);\n        }\n    };\n    GestureController.prototype.disableScroll = function (id) {\n        this.disabledScroll.add(id);\n        if (this.disabledScroll.size === 1) {\n            document.body.classList.add(BACKDROP_NO_SCROLL);\n        }\n    };\n    GestureController.prototype.enableScroll = function (id) {\n        this.disabledScroll.delete(id);\n        if (this.disabledScroll.size === 0) {\n            document.body.classList.remove(BACKDROP_NO_SCROLL);\n        }\n    };\n    GestureController.prototype.canStart = function (gestureName) {\n        if (this.capturedId !== undefined) {\n            // a gesture already captured\n            return false;\n        }\n        if (this.isDisabled(gestureName)) {\n            return false;\n        }\n        return true;\n    };\n    GestureController.prototype.isCaptured = function () {\n        return this.capturedId !== undefined;\n    };\n    GestureController.prototype.isScrollDisabled = function () {\n        return this.disabledScroll.size > 0;\n    };\n    GestureController.prototype.isDisabled = function (gestureName) {\n        var disabled = this.disabledGestures.get(gestureName);\n        if (disabled && disabled.size > 0) {\n            return true;\n        }\n        return false;\n    };\n    GestureController.prototype.newID = function () {\n        this.gestureId++;\n        return this.gestureId;\n    };\n    return GestureController;\n}());\nvar GestureDelegate = /** @class */ (function () {\n    function GestureDelegate(ctrl, id, name, priority, disableScroll) {\n        this.id = id;\n        this.name = name;\n        this.disableScroll = disableScroll;\n        this.priority = priority * 1000000 + id;\n        this.ctrl = ctrl;\n    }\n    GestureDelegate.prototype.canStart = function () {\n        if (!this.ctrl) {\n            return false;\n        }\n        return this.ctrl.canStart(this.name);\n    };\n    GestureDelegate.prototype.start = function () {\n        if (!this.ctrl) {\n            return false;\n        }\n        return this.ctrl.start(this.name, this.id, this.priority);\n    };\n    GestureDelegate.prototype.capture = function () {\n        if (!this.ctrl) {\n            return false;\n        }\n        var captured = this.ctrl.capture(this.name, this.id, this.priority);\n        if (captured && this.disableScroll) {\n            this.ctrl.disableScroll(this.id);\n        }\n        return captured;\n    };\n    GestureDelegate.prototype.release = function () {\n        if (this.ctrl) {\n            this.ctrl.release(this.id);\n            if (this.disableScroll) {\n                this.ctrl.enableScroll(this.id);\n            }\n        }\n    };\n    GestureDelegate.prototype.destroy = function () {\n        this.release();\n        this.ctrl = undefined;\n    };\n    return GestureDelegate;\n}());\nvar BlockerDelegate = /** @class */ (function () {\n    function BlockerDelegate(ctrl, id, disable, disableScroll) {\n        this.id = id;\n        this.disable = disable;\n        this.disableScroll = disableScroll;\n        this.ctrl = ctrl;\n    }\n    BlockerDelegate.prototype.block = function () {\n        if (!this.ctrl) {\n            return;\n        }\n        if (this.disable) {\n            for (var _i = 0, _a = this.disable; _i < _a.length; _i++) {\n                var gesture = _a[_i];\n                this.ctrl.disableGesture(gesture, this.id);\n            }\n        }\n        if (this.disableScroll) {\n            this.ctrl.disableScroll(this.id);\n        }\n    };\n    BlockerDelegate.prototype.unblock = function () {\n        if (!this.ctrl) {\n            return;\n        }\n        if (this.disable) {\n            for (var _i = 0, _a = this.disable; _i < _a.length; _i++) {\n                var gesture = _a[_i];\n                this.ctrl.enableGesture(gesture, this.id);\n            }\n        }\n        if (this.disableScroll) {\n            this.ctrl.enableScroll(this.id);\n        }\n    };\n    BlockerDelegate.prototype.destroy = function () {\n        this.unblock();\n        this.ctrl = undefined;\n    };\n    return BlockerDelegate;\n}());\nvar BACKDROP_NO_SCROLL = 'backdrop-no-scroll';\nvar GESTURE_CONTROLLER = new GestureController();\nexport { GESTURE_CONTROLLER as G };\n","import { __awaiter, __generator } from \"tslib\";\nvar startHardwareBackButton = function () {\n    var doc = document;\n    var busy = false;\n    doc.addEventListener('backbutton', function () {\n        if (busy) {\n            return;\n        }\n        var index = 0;\n        var handlers = [];\n        var ev = new CustomEvent('ionBackButton', {\n            bubbles: false,\n            detail: {\n                register: function (priority, handler) {\n                    handlers.push({ priority: priority, handler: handler, id: index++ });\n                }\n            }\n        });\n        doc.dispatchEvent(ev);\n        var executeAction = function (handlerRegister) { return __awaiter(void 0, void 0, void 0, function () {\n            var result, e_1;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        _a.trys.push([0, 3, , 4]);\n                        if (!(handlerRegister && handlerRegister.handler)) return [3 /*break*/, 2];\n                        result = handlerRegister.handler(processHandlers);\n                        if (!(result != null)) return [3 /*break*/, 2];\n                        return [4 /*yield*/, result];\n                    case 1:\n                        _a.sent();\n                        _a.label = 2;\n                    case 2: return [3 /*break*/, 4];\n                    case 3:\n                        e_1 = _a.sent();\n                        console.error(e_1);\n                        return [3 /*break*/, 4];\n                    case 4: return [2 /*return*/];\n                }\n            });\n        }); };\n        var processHandlers = function () {\n            if (handlers.length > 0) {\n                var selectedHandler_1 = {\n                    priority: Number.MIN_SAFE_INTEGER,\n                    handler: function () { return undefined; },\n                    id: -1\n                };\n                handlers.forEach(function (handler) {\n                    if (handler.priority >= selectedHandler_1.priority) {\n                        selectedHandler_1 = handler;\n                    }\n                });\n                busy = true;\n                handlers = handlers.filter(function (handler) { return handler.id !== selectedHandler_1.id; });\n                executeAction(selectedHandler_1).then(function () { return busy = false; });\n            }\n        };\n        processHandlers();\n    });\n};\nvar OVERLAY_BACK_BUTTON_PRIORITY = 100;\nvar MENU_BACK_BUTTON_PRIORITY = 99; // 1 less than overlay priority since menu is displayed behind overlays\nexport { MENU_BACK_BUTTON_PRIORITY, OVERLAY_BACK_BUTTON_PRIORITY, startHardwareBackButton };\n","import { G as GESTURE_CONTROLLER } from './gesture-controller-89173521.js';\nexport { G as GESTURE_CONTROLLER } from './gesture-controller-89173521.js';\nvar addEventListener = function (el, eventName, callback, opts) {\n    // use event listener options when supported\n    // otherwise it's just a boolean for the \"capture\" arg\n    var listenerOpts = supportsPassive(el) ? {\n        'capture': !!opts.capture,\n        'passive': !!opts.passive,\n    } : !!opts.capture;\n    var add;\n    var remove;\n    if (el['__zone_symbol__addEventListener']) {\n        add = '__zone_symbol__addEventListener';\n        remove = '__zone_symbol__removeEventListener';\n    }\n    else {\n        add = 'addEventListener';\n        remove = 'removeEventListener';\n    }\n    el[add](eventName, callback, listenerOpts);\n    return function () {\n        el[remove](eventName, callback, listenerOpts);\n    };\n};\nvar supportsPassive = function (node) {\n    if (_sPassive === undefined) {\n        try {\n            var opts = Object.defineProperty({}, 'passive', {\n                get: function () {\n                    _sPassive = true;\n                }\n            });\n            node.addEventListener('optsTest', function () { return; }, opts);\n        }\n        catch (e) {\n            _sPassive = false;\n        }\n    }\n    return !!_sPassive;\n};\nvar _sPassive;\nvar MOUSE_WAIT = 2000;\nvar createPointerEvents = function (el, pointerDown, pointerMove, pointerUp, options) {\n    var rmTouchStart;\n    var rmTouchMove;\n    var rmTouchEnd;\n    var rmTouchCancel;\n    var rmMouseStart;\n    var rmMouseMove;\n    var rmMouseUp;\n    var lastTouchEvent = 0;\n    var handleTouchStart = function (ev) {\n        lastTouchEvent = Date.now() + MOUSE_WAIT;\n        if (!pointerDown(ev)) {\n            return;\n        }\n        if (!rmTouchMove && pointerMove) {\n            rmTouchMove = addEventListener(el, 'touchmove', pointerMove, options);\n        }\n        if (!rmTouchEnd) {\n            rmTouchEnd = addEventListener(el, 'touchend', handleTouchEnd, options);\n        }\n        if (!rmTouchCancel) {\n            rmTouchCancel = addEventListener(el, 'touchcancel', handleTouchEnd, options);\n        }\n    };\n    var handleMouseDown = function (ev) {\n        if (lastTouchEvent > Date.now()) {\n            return;\n        }\n        if (!pointerDown(ev)) {\n            return;\n        }\n        if (!rmMouseMove && pointerMove) {\n            rmMouseMove = addEventListener(getDocument(el), 'mousemove', pointerMove, options);\n        }\n        if (!rmMouseUp) {\n            rmMouseUp = addEventListener(getDocument(el), 'mouseup', handleMouseUp, options);\n        }\n    };\n    var handleTouchEnd = function (ev) {\n        stopTouch();\n        if (pointerUp) {\n            pointerUp(ev);\n        }\n    };\n    var handleMouseUp = function (ev) {\n        stopMouse();\n        if (pointerUp) {\n            pointerUp(ev);\n        }\n    };\n    var stopTouch = function () {\n        if (rmTouchMove) {\n            rmTouchMove();\n        }\n        if (rmTouchEnd) {\n            rmTouchEnd();\n        }\n        if (rmTouchCancel) {\n            rmTouchCancel();\n        }\n        rmTouchMove = rmTouchEnd = rmTouchCancel = undefined;\n    };\n    var stopMouse = function () {\n        if (rmMouseMove) {\n            rmMouseMove();\n        }\n        if (rmMouseUp) {\n            rmMouseUp();\n        }\n        rmMouseMove = rmMouseUp = undefined;\n    };\n    var stop = function () {\n        stopTouch();\n        stopMouse();\n    };\n    var enable = function (isEnabled) {\n        if (isEnabled === void 0) { isEnabled = true; }\n        if (!isEnabled) {\n            if (rmTouchStart) {\n                rmTouchStart();\n            }\n            if (rmMouseStart) {\n                rmMouseStart();\n            }\n            rmTouchStart = rmMouseStart = undefined;\n            stop();\n        }\n        else {\n            if (!rmTouchStart) {\n                rmTouchStart = addEventListener(el, 'touchstart', handleTouchStart, options);\n            }\n            if (!rmMouseStart) {\n                rmMouseStart = addEventListener(el, 'mousedown', handleMouseDown, options);\n            }\n        }\n    };\n    var destroy = function () {\n        enable(false);\n        pointerUp = pointerMove = pointerDown = undefined;\n    };\n    return {\n        enable: enable,\n        stop: stop,\n        destroy: destroy\n    };\n};\nvar getDocument = function (node) {\n    return node instanceof Document ? node : node.ownerDocument;\n};\nvar createPanRecognizer = function (direction, thresh, maxAngle) {\n    var radians = maxAngle * (Math.PI / 180);\n    var isDirX = direction === 'x';\n    var maxCosine = Math.cos(radians);\n    var threshold = thresh * thresh;\n    var startX = 0;\n    var startY = 0;\n    var dirty = false;\n    var isPan = 0;\n    return {\n        start: function (x, y) {\n            startX = x;\n            startY = y;\n            isPan = 0;\n            dirty = true;\n        },\n        detect: function (x, y) {\n            if (!dirty) {\n                return false;\n            }\n            var deltaX = (x - startX);\n            var deltaY = (y - startY);\n            var distance = deltaX * deltaX + deltaY * deltaY;\n            if (distance < threshold) {\n                return false;\n            }\n            var hypotenuse = Math.sqrt(distance);\n            var cosine = (isDirX ? deltaX : deltaY) / hypotenuse;\n            if (cosine > maxCosine) {\n                isPan = 1;\n            }\n            else if (cosine < -maxCosine) {\n                isPan = -1;\n            }\n            else {\n                isPan = 0;\n            }\n            dirty = false;\n            return true;\n        },\n        isGesture: function () {\n            return isPan !== 0;\n        },\n        getDirection: function () {\n            return isPan;\n        }\n    };\n};\nvar createGesture = function (config) {\n    var hasCapturedPan = false;\n    var hasStartedPan = false;\n    var hasFiredStart = true;\n    var isMoveQueued = false;\n    var finalConfig = Object.assign({ disableScroll: false, direction: 'x', gesturePriority: 0, passive: true, maxAngle: 40, threshold: 10 }, config);\n    var canStart = finalConfig.canStart;\n    var onWillStart = finalConfig.onWillStart;\n    var onStart = finalConfig.onStart;\n    var onEnd = finalConfig.onEnd;\n    var notCaptured = finalConfig.notCaptured;\n    var onMove = finalConfig.onMove;\n    var threshold = finalConfig.threshold;\n    var passive = finalConfig.passive;\n    var blurOnStart = finalConfig.blurOnStart;\n    var detail = {\n        type: 'pan',\n        startX: 0,\n        startY: 0,\n        startTime: 0,\n        currentX: 0,\n        currentY: 0,\n        velocityX: 0,\n        velocityY: 0,\n        deltaX: 0,\n        deltaY: 0,\n        currentTime: 0,\n        event: undefined,\n        data: undefined\n    };\n    var pan = createPanRecognizer(finalConfig.direction, finalConfig.threshold, finalConfig.maxAngle);\n    var gesture = GESTURE_CONTROLLER.createGesture({\n        name: config.gestureName,\n        priority: config.gesturePriority,\n        disableScroll: config.disableScroll\n    });\n    var pointerDown = function (ev) {\n        var timeStamp = now(ev);\n        if (hasStartedPan || !hasFiredStart) {\n            return false;\n        }\n        updateDetail(ev, detail);\n        detail.startX = detail.currentX;\n        detail.startY = detail.currentY;\n        detail.startTime = detail.currentTime = timeStamp;\n        detail.velocityX = detail.velocityY = detail.deltaX = detail.deltaY = 0;\n        detail.event = ev;\n        // Check if gesture can start\n        if (canStart && canStart(detail) === false) {\n            return false;\n        }\n        // Release fallback\n        gesture.release();\n        // Start gesture\n        if (!gesture.start()) {\n            return false;\n        }\n        hasStartedPan = true;\n        if (threshold === 0) {\n            return tryToCapturePan();\n        }\n        pan.start(detail.startX, detail.startY);\n        return true;\n    };\n    var pointerMove = function (ev) {\n        // fast path, if gesture is currently captured\n        // do minimum job to get user-land even dispatched\n        if (hasCapturedPan) {\n            if (!isMoveQueued && hasFiredStart) {\n                isMoveQueued = true;\n                calcGestureData(detail, ev);\n                requestAnimationFrame(fireOnMove);\n            }\n            return;\n        }\n        // gesture is currently being detected\n        calcGestureData(detail, ev);\n        if (pan.detect(detail.currentX, detail.currentY)) {\n            if (!pan.isGesture() || !tryToCapturePan()) {\n                abortGesture();\n            }\n        }\n    };\n    var fireOnMove = function () {\n        // Since fireOnMove is called inside a RAF, onEnd() might be called,\n        // we must double check hasCapturedPan\n        if (!hasCapturedPan) {\n            return;\n        }\n        isMoveQueued = false;\n        if (onMove) {\n            onMove(detail);\n        }\n    };\n    var tryToCapturePan = function () {\n        if (gesture && !gesture.capture()) {\n            return false;\n        }\n        hasCapturedPan = true;\n        hasFiredStart = false;\n        // reset start position since the real user-land event starts here\n        // If the pan detector threshold is big, not resetting the start position\n        // will cause a jump in the animation equal to the detector threshold.\n        // the array of positions used to calculate the gesture velocity does not\n        // need to be cleaned, more points in the positions array always results in a\n        // more accurate value of the velocity.\n        detail.startX = detail.currentX;\n        detail.startY = detail.currentY;\n        detail.startTime = detail.currentTime;\n        if (onWillStart) {\n            onWillStart(detail).then(fireOnStart);\n        }\n        else {\n            fireOnStart();\n        }\n        return true;\n    };\n    var blurActiveElement = function () {\n        /* tslint:disable-next-line */\n        if (typeof document !== 'undefined') {\n            var activeElement = document.activeElement;\n            if (activeElement !== null && activeElement.blur) {\n                activeElement.blur();\n            }\n        }\n    };\n    var fireOnStart = function () {\n        if (blurOnStart) {\n            blurActiveElement();\n        }\n        if (onStart) {\n            onStart(detail);\n        }\n        hasFiredStart = true;\n    };\n    var reset = function () {\n        hasCapturedPan = false;\n        hasStartedPan = false;\n        isMoveQueued = false;\n        hasFiredStart = true;\n        gesture.release();\n    };\n    // END *************************\n    var pointerUp = function (ev) {\n        var tmpHasCaptured = hasCapturedPan;\n        var tmpHasFiredStart = hasFiredStart;\n        reset();\n        if (!tmpHasFiredStart) {\n            return;\n        }\n        calcGestureData(detail, ev);\n        // Try to capture press\n        if (tmpHasCaptured) {\n            if (onEnd) {\n                onEnd(detail);\n            }\n            return;\n        }\n        // Not captured any event\n        if (notCaptured) {\n            notCaptured(detail);\n        }\n    };\n    var pointerEvents = createPointerEvents(finalConfig.el, pointerDown, pointerMove, pointerUp, {\n        capture: false,\n        passive: passive\n    });\n    var abortGesture = function () {\n        reset();\n        pointerEvents.stop();\n        if (notCaptured) {\n            notCaptured(detail);\n        }\n    };\n    return {\n        enable: function (enable) {\n            if (enable === void 0) { enable = true; }\n            if (!enable) {\n                if (hasCapturedPan) {\n                    pointerUp(undefined);\n                }\n                reset();\n            }\n            pointerEvents.enable(enable);\n        },\n        destroy: function () {\n            gesture.destroy();\n            pointerEvents.destroy();\n        }\n    };\n};\nvar calcGestureData = function (detail, ev) {\n    if (!ev) {\n        return;\n    }\n    var prevX = detail.currentX;\n    var prevY = detail.currentY;\n    var prevT = detail.currentTime;\n    updateDetail(ev, detail);\n    var currentX = detail.currentX;\n    var currentY = detail.currentY;\n    var timestamp = detail.currentTime = now(ev);\n    var timeDelta = timestamp - prevT;\n    if (timeDelta > 0 && timeDelta < 100) {\n        var velocityX = (currentX - prevX) / timeDelta;\n        var velocityY = (currentY - prevY) / timeDelta;\n        detail.velocityX = velocityX * 0.7 + detail.velocityX * 0.3;\n        detail.velocityY = velocityY * 0.7 + detail.velocityY * 0.3;\n    }\n    detail.deltaX = currentX - detail.startX;\n    detail.deltaY = currentY - detail.startY;\n    detail.event = ev;\n};\nvar updateDetail = function (ev, detail) {\n    // get X coordinates for either a mouse click\n    // or a touch depending on the given event\n    var x = 0;\n    var y = 0;\n    if (ev) {\n        var changedTouches = ev.changedTouches;\n        if (changedTouches && changedTouches.length > 0) {\n            var touch = changedTouches[0];\n            x = touch.clientX;\n            y = touch.clientY;\n        }\n        else if (ev.pageX !== undefined) {\n            x = ev.pageX;\n            y = ev.pageY;\n        }\n    }\n    detail.currentX = x;\n    detail.currentY = y;\n};\nvar now = function (ev) {\n    return ev.timeStamp || Date.now();\n};\nexport { createGesture };\n"],"sourceRoot":""}